<!DOCTYPE html>


<html>
    <head>
        <meta charset="utf=8">
            <title>Invert colour</title>
            <link rel="stylesheet" href="css/style.css">
   </head>
    <body>
       <canvas id="canvas" width="640" height="480"/></canvas>
       <textarea id="log"></textarea>
        <script src="js/utils.js"></script>
        <script src="js/ball.js"></script>
        <script src="js/segment.js"></script>
        <script>


            function getCycle(cycle) {
                return angle = (Math.sin(cycle) * 45 + 90) * Math.PI / 180;
            }

            function spine(context, upperBack, lowerBack, cycleValue) {
                var angle = getCycle(cycleValue);
                upperBack.rotation = angle;
                lowerBack.rotation = upperBack.rotation + (getCycle(cycleValue) * .1);
                lowerBack.x = upperBack.getPin().x;
                lowerBack.y = upperBack.getPin().y;
            }

            function arms() {
                return 'arms';
            }


            window.onload = function()
            {
                var canvas = document.getElementById('canvas'),
                    context = canvas.getContext('2d'),
                    mouse = utils.captureMouse(canvas),
                    shoulders = new Segment(100, 20),
                    upperLeft = new Segment(100, 20),
                    upperRight = new Segment(100, 20),
                    leftFore = new Segment(100, 20),
                    rightFore = new Segment(100, 20),
                    hips = new Segment(100, 20),
                    leftThigh = new Segment(100, 20),
                    rightThigh = new Segment(100, 20),
                    leftCalf = new Segment(100, 20),
                    rightCalf = new Segment(100, 20),
                    upperBack = new Segment(100, 20),
                    lowerBack = new Segment(100, 20),
                    leftFoot = new Segment(100, 20),
                    rightFoot = new Segment(100, 20),

                    head = new Ball(),
                    leftGlove = new Ball(),
                    rightGlove = new Ball(),
                    cycle = 0;

                upperBack.x = canvas.width / 2;
                upperBack.y = canvas.height / 4;

                lowerBack.x = upperBack.getPin().x - 10;
                lowerBack.y = upperBack.getPin().y;

                function drawFrame() {
                	window.requestAnimationFrame(drawFrame, canvas);
                  context.clearRect(0, 0, canvas.width, canvas.height);
                  cycle = 0.05;

                spine(context, upperBack, lowerBack, cycle);
                shoulders.rotation = getCycle(cycle += 0.05) * .1;

                shoulders.x = upperBack.x - (shoulders.width / 2);
                shoulders.y = upperBack.y;


                shoulders.draw(context, true);
                upperBack.draw(context);
                lowerBack.draw(context);



                }
                drawFrame();
            };
        </script>
    </body>
</html>
